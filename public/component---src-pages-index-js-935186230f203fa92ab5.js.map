{"version":3,"sources":["webpack:///./src/pages/index.js","webpack:///./src/prismic-configuration.js","webpack:///./src/data/prismic.js"],"names":["_default","props","_this","_React$Component","call","this","state","data","PrismicHelper","then","context","api","query","Prismic","Predicates","at","orderings","response","setState","results","catch","e","console","error","render","change_log_loaded","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_2__","_components_cluesearch__WEBPACK_IMPORTED_MODULE_3__","title","className","date","changes","map","change_item","i","key","change","text","React","Component","__webpack_exports__","apiEndpoint","accessToken","linkResolver","doc","__webpack_require__","d","buildContext","_prismic_configuration__WEBPACK_IMPORTED_MODULE_0__","prismic_javascript__WEBPACK_IMPORTED_MODULE_1__","prismic_javascript__WEBPACK_IMPORTED_MODULE_1___default","n","PrismicConfig","endpoint"],"mappings":"sOAQI,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACfA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAEKC,MAAQ,CACTC,KAAM,MAGVC,MAA6BC,KAAK,SAACC,GAC/BA,EAAQC,IAAIC,MACRC,IAAQC,WAAWC,GAAG,gBAAiB,oBACvC,CAACC,UAAW,oCACdP,KAAK,SAAAQ,GACHf,EAAKgB,SAAS,CAACX,KAAMU,EAASE,cAEnCC,MAAM,SAACC,GACNC,QAAQC,MAAR,8DAA4EF,KAfjEnB,8BAmBnBsB,OAAA,WACI,IAAIjB,EAAOF,KAAKC,MAAMC,KAClBkB,EAA6B,OAATlB,EAExB,OAAOmB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACHH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYC,MAAO,kCACjBN,EAA8CC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gBAC3DN,EAAAC,EAAAC,cAAA,4BAAoBrB,EAAK,GAAGA,KAAK0B,KAAjC,OACAP,EAAAC,EAAAC,cAAA,UACKrB,EAAK,GAAGA,KAAK2B,QAAQC,IAAI,SAAUC,EAAaC,GAC7C,OAAOX,EAAAC,EAAAC,cAAA,MAAIU,IAAKD,GAAT,KAAeD,EAAYG,OAAO,GAAGC,UAJlC,6BA1BLC,IAAMC,6CCPpBC,EAAA,GACXC,YAAa,wCACbC,YAAa,GAGbC,aALW,SAKEC,GAET,MAAO,wCCPfC,EAAAC,EAAAN,EAAA,sBAAAO,IAAA,IAAAC,EAAAH,EAAA,KAAAI,EAAAJ,EAAA,KAAAK,EAAAL,EAAAM,EAAAF,GAGO,SAASF,IACZ,IAAML,EAAcU,IAAcV,YAElC,OAAOhC,IAAQF,IAAI4C,IAAcX,YAAa,CAACC,gBAAcpC,KAAK,SAAAE,GAAG,MAAK,CACtEA,MACA6C,SAAUD,IAAcX,YACxBC,cACAC,aAAcS,IAAcT","file":"component---src-pages-index-js-935186230f203fa92ab5.js","sourcesContent":["import React from \"react\";\nimport Layout from \"../components/layout\";\nimport ClueSearch from \"../components/cluesearch\";\nimport * as PrismicHelper from \"../data/prismic\"\nimport Prismic from \"prismic-javascript\";\n\n\nexport default class extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: null\n        };\n\n        PrismicHelper.buildContext().then((context) => {\n            context.api.query(\n                Prismic.Predicates.at('document.type', 'changelog_change'),\n                {orderings: '[my.changelog_change.date desc]'}\n            ).then(response => {\n                this.setState({data: response.results});\n            });\n        }).catch((e) => {\n            console.error(`Cannot contact the API, check your prismic configuration:\\n${e}`);\n        });\n    }\n\n    render() {\n        let data = this.state.data;\n        let change_log_loaded = data !== null;\n\n        return <Layout>\n            <ClueSearch title={\"Start typing your clue below:\"}/>\n            {!change_log_loaded ? \"Content is Loading...\" : <div className=\"_latest_news\">\n                <h6>Latest update ({data[0].data.date}): </h6>\n                <ul>\n                    {data[0].data.changes.map(function (change_item, i) {\n                        return <li key={i}>- {change_item.change[0].text}</li>\n                    })}\n                </ul>\n            </div>}\n        </Layout>\n    }\n}","export default {\n    apiEndpoint: 'https://rsclues.cdn.prismic.io/api/v2',\n    accessToken: '',\n\n    // -- Links resolution rules\n    linkResolver(doc) {\n        //if (doc.type === 'page') return `/page/${doc.uid}`;\n        return '/';\n    },\n};","import PrismicConfig from '../prismic-configuration'\nimport Prismic from \"prismic-javascript\";\n\nexport function buildContext() {\n    const accessToken = PrismicConfig.accessToken;\n\n    return Prismic.api(PrismicConfig.apiEndpoint, {accessToken}).then(api => ({\n        api,\n        endpoint: PrismicConfig.apiEndpoint,\n        accessToken,\n        linkResolver: PrismicConfig.linkResolver\n    }));\n}"],"sourceRoot":""}