{"version":3,"sources":["webpack:///./src/prismic-configuration.js","webpack:///./src/pages/homepage.js"],"names":["prismic_configuration","apiEndpoint","linkResolver","doc","require","FaComponent","FaFacebook","FaGithub","FaLinkedin","FaSteam","HomePage","props","_this","_React$Component","call","this","state","homePageData","buildContext","then","prismicCtx","api","query","Prismic","Predicates","at","orderings","response","setState","results","catch","e","console","error","render","data","prismic_title","main_header","text","prismic_tagline","tag_line","prismic_links","main_links","react_default","a","createElement","className","Helmet","title","charSet","name","content","lang","map","link","i","Tag","item_icon","key","href","item_link","url","target","item_text","rel","size","accessToken","PrismicConfig","endpoint","React","Component"],"mappings":"yKAAeA,EAAA,CAEXC,YAAa,iDAGbC,aALW,SAKEC,GAET,MAAO,4CCDfC,EAAQ,KAGR,IAAMC,EAAc,CAChBC,WAAcA,IACdC,SAAYA,IACZC,WAAcA,IACdC,QAAWA,KAGMC,cACjB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACfA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAEKC,MAAQ,CACTC,aAAc,MAIlBL,EAAKM,eAAeC,KAAK,SAACC,GACtBA,EAAWC,IAAIC,MACXC,IAAQC,WAAWC,GAAG,gBAAiB,YACvC,CAACC,UAAW,4BACdP,KAAK,SAAAQ,GACHf,EAAKgB,SAAS,CAACX,aAAcU,EAASE,QAAQ,SAEnDC,MAAM,SAACC,GACNC,QAAQC,MAAR,8DAA4EF,KAhBjEnB,sCAoBnBsB,OAAA,WAEI,IAAIC,EAAOpB,KAAKC,MAAMC,aAAeF,KAAKC,MAAMC,aAAakB,KAAO,KAChEC,EAAgBD,EAAOA,EAAKE,YAAY,GAAGC,KAAO,YAClDC,EAAkBJ,EAAOA,EAAKK,SAAS,GAAGF,KAAO,gBACjDG,EAAgBN,EAAOA,EAAKO,WAAa,GAE7C,OAAOC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAClBH,EAAAC,EAAAC,cAACE,EAAA,OAAD,CAAQC,MAAOZ,EAAgB,MAAQG,GACnCI,EAAAC,EAAAC,cAAA,QAAMI,QAAQ,UACdN,EAAAC,EAAAC,cAAA,QAAMK,KAAK,cACLC,QAAQ,wHACdR,EAAAC,EAAAC,cAAA,QAAMK,KAAK,WAAWC,QAAQ,8CAC9BR,EAAAC,EAAAC,cAAA,QAAMO,KAAK,QAEfT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACfH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeV,EAA7B,IAA4CO,EAAAC,EAAAC,cAAA,YAAON,IACnDI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UACTL,EAAcY,IAAI,SAAUC,EAAMC,GAC/B,IAAIC,EAAMnD,EAAYiD,EAAKG,WAC3B,OAAOd,EAAAC,EAAAC,cAAA,MAAIa,IAAKH,GACZZ,EAAAC,EAAAC,cAAA,KAAGc,KAAML,EAAKM,UAAUC,IAAKC,OAAQ,SAAUd,MAAOM,EAAKS,UAAU,GAAGzB,KACrE0B,IAAK,YACJrB,EAAAC,EAAAC,cAACW,EAAD,CAAKS,KAAM,kBAUvC/C,aAAA,WACI,IAAMgD,EAAcC,EAAcD,YAClC,OAAO3C,IAAQF,IAAI8C,EAAclE,YAAa,CAACiE,gBAAc/C,KAAK,SAAAE,GAAG,MAAK,CACtEA,MACA+C,SAAUD,EAAclE,YACxBiE,cACAhE,aAAciE,EAAcjE,oBA7DFmE,IAAMC","file":"component---src-pages-homepage-js-65dc392d73c1d8d87f47.js","sourcesContent":["export default {\n\n    apiEndpoint: 'https://gandymainwebsite.cdn.prismic.io/api/v2',\n\n    // -- Links resolution rules\n    linkResolver(doc) {\n        //if (doc.type === 'page') return `/page/${doc.uid}`;\n        return '/';\n    },\n};","import React from \"react\"\nimport {FaGithub, FaFacebook, FaLinkedin, FaSteam} from 'react-icons/fa';\nimport {Helmet} from \"react-helmet\";\nimport Prismic from 'prismic-javascript';\nimport PrismicConfig from '../prismic-configuration';\n\nrequire('../scss/main.scss');\n\n// Allows us to map strings from prismic to react components\nconst FaComponent = {\n    \"FaFacebook\": FaFacebook,\n    \"FaGithub\": FaGithub,\n    \"FaLinkedin\": FaLinkedin,\n    \"FaSteam\": FaSteam,\n};\n\nexport default class HomePage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            homePageData: null\n        };\n\n        //Query prismic and pull our homepage data.\n        this.buildContext().then((prismicCtx) => {\n            prismicCtx.api.query(\n                Prismic.Predicates.at('document.type', 'homepage'),\n                {orderings: '[my.homepage.date desc]'}\n            ).then(response => {\n                this.setState({homePageData: response.results[0]})\n            });\n        }).catch((e) => {\n            console.error(`Cannot contact the API, check your prismic configuration:\\n${e}`);\n        });\n    }\n\n    render() {\n        //Setup our data for a nice render\n        let data = this.state.homePageData ? this.state.homePageData.data : null;\n        let prismic_title = data ? data.main_header[0].text : \"Joe Gandy\";\n        let prismic_tagline = data ? data.tag_line[0].text : \"Web Developer\";\n        let prismic_links = data ? data.main_links : [];\n\n        return <div className=\"_main_wrapper\">\n            <Helmet title={prismic_title + \" - \" + prismic_tagline}>\n                <meta charSet=\"utf-8\"/>\n                <meta name=\"description\"\n                      content=\"Joe Gandy a web developer from derby specialising in backend apis, drupal with front end work with react and gatsby\"/>\n                <meta name=\"keywords\" content=\"drupal, react, developer, web, php, derby\"/>\n                <html lang=\"en\"/>\n            </Helmet>\n            <div className=\"_center_box\">\n                <div className=\"_avatar\"/>\n                <h1 className=\"_main_title\">{prismic_title} <span>{prismic_tagline}</span></h1>\n                <ul className=\"_icons\">\n                    {prismic_links.map(function (link, i) {\n                        let Tag = FaComponent[link.item_icon];\n                        return <li key={i}>\n                            <a href={link.item_link.url} target={\"_blank\"} title={link.item_text[0].text}\n                               rel={\"noopener\"}>\n                                <Tag size={\"2em\"}/>\n                            </a>\n                        </li>\n                    })}\n                </ul>\n            </div>\n        </div>\n\n    }\n\n    buildContext() {\n        const accessToken = PrismicConfig.accessToken;\n        return Prismic.api(PrismicConfig.apiEndpoint, {accessToken}).then(api => ({\n            api,\n            endpoint: PrismicConfig.apiEndpoint,\n            accessToken,\n            linkResolver: PrismicConfig.linkResolver\n        }));\n    }\n}"],"sourceRoot":""}